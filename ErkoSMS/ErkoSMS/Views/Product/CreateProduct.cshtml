
@model ErkoSMS.ViewModels.ProductViewModel
<div>
    <h3>Yeni Ürün Ekle</h3>
    <hr />
    @using (Html.BeginForm("CreateProduct", "Product", FormMethod.Post, new { data_erkosms_role = "ajax-form", id = "CreateProductForm" }))
    {

        @Html.AntiForgeryToken()
        @Html.ValidationSummary("", new { @class = "text-danger" })
        <div class="w3-row">
            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.Code)
                @Html.TextBoxFor(m => m.Code, new { @class = "form-control" })
            </div>

            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.CrossReferenceCode)
                @Html.TextBoxFor(m => m.CrossReferenceCode, new { @class = "form-control" })
            </div>
        </div>
        <div class="w3-row">
            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.Description)
                @Html.TextAreaFor(m => m.Description, new { @class = "form-control", style = "height: 100px; margin-top: 10px" })
            </div>

            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.EnglishDescription)
                @Html.TextAreaFor(m => m.EnglishDescription, new { @class = "form-control", style = "height: 100px; margin-top: 10px" })
            </div>
        </div>
        
        <div class="w3-row">
            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.Brand)
                @Html.TextBoxFor(m => m.Brand, new { @class = "form-control" })
            </div>

            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.Model)
                @Html.TextBoxFor(m => m.Model, new { @class = "form-control" })
            </div>
        </div>

        <div class="w3-row">
            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.Group)
                @Html.TextBoxFor(m => m.Group, new { @class = "form-control" })
            </div>

        

            <div class="form-group w3-col s6">
                @Html.LabelFor(m => m.LastPrice)
                @Html.TextBoxFor(m => m.LastPrice, new { @class = "form-control", type = "number" })
            </div>
        </div>

        <input type="submit" class="btn btn-primary pull-right" value="Kaydet" />
    }

</div>

<script>

    $("#CreateProductForm").on("ajax-form:succeed", function (ev, data) {
        var tg = $(ev.currentTarget);
        closeParentVexModal(tg);
        $("#productCode").val(data.result.Code);
        $("#searchButton").click();
    });

</script>